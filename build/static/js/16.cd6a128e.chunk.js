(this["webpackJsonpmaterial-app"]=this["webpackJsonpmaterial-app"]||[]).push([[16],{1122:function(e,a,t){"use strict";var n=t(1),c=t(3),r=t(0),o=t.n(r),l=(t(4),t(5)),s=t(6),i=t(1118),u={variant:"head"},d=o.a.forwardRef((function(e,a){var t=e.classes,r=e.className,s=e.component,d=void 0===s?"thead":s,m=Object(c.a)(e,["classes","className","component"]);return o.a.createElement(i.a.Provider,{value:u},o.a.createElement(d,Object(n.a)({className:Object(l.a)(t.root,r),ref:a},m)))}));a.a=Object(s.a)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(d)},1149:function(e,a,t){"use strict";var n=t(1),c=t(3),r=t(0),o=t.n(r),l=(t(4),t(5)),s=t(325),i=t(189),u=Object(i.a)(o.a.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),d=Object(i.a)(o.a.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),m=t(17),b=Object(i.a)(o.a.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),h=t(11),p=t(6),f=o.a.createElement(d,null),E=o.a.createElement(u,null),v=o.a.createElement(b,null),y=o.a.forwardRef((function(e,a){var t=e.checkedIcon,r=void 0===t?f:t,i=e.classes,u=e.color,d=void 0===u?"secondary":u,m=e.disabled,b=void 0!==m&&m,p=e.icon,y=void 0===p?E:p,O=e.indeterminate,j=void 0!==O&&O,k=e.indeterminateIcon,x=void 0===k?v:k,g=e.inputProps,w=Object(c.a)(e,["checkedIcon","classes","color","disabled","icon","indeterminate","indeterminateIcon","inputProps"]);return o.a.createElement(s.a,Object(n.a)({type:"checkbox",checkedIcon:j?x:r,classes:{root:Object(l.a)(i.root,i["color".concat(Object(h.a)(d))],j&&i.indeterminate),checked:i.checked,disabled:i.disabled},color:d,inputProps:Object(n.a)({"data-indeterminate":j},g),icon:j?x:y,ref:a,disabled:b},w))}));a.a=Object(p.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(m.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(m.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(y)},1167:function(e,a,t){"use strict";t.r(a);var n=t(323),c=t(51),r=t.n(c),o=t(94),l=t(322),s=t(0),i=t.n(s),u=t(16),d=t(124),m=t(188),b=t(75),h=t(1107),p=(t(1113),t(520),t(1110)),f=t.n(p),E=t(1114),v=t.n(E),y=(t(1115),t(1116)),O=t.n(y),j=t(1154),k=t(1076),x=t(1035),g=t(1081),w=t(1155),S=t(1122),N=t(1156),_=t(1157),C=t(1149),P=t(1158),T=t(186),I=t(1082),L=t(220),U=Object(L.a)(i.a.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),R=t(1096),F=t(1117),A=t.n(F),H=t(1108);t(1109);A.a.globalFormat="YYYY-MM-DD HH:mm:ss";var M=Object(u.c)(j.a)(R.a),B=Object(u.c)(k.a)(R.a),K=Object(u.c)(x.a)(R.a),D=Object(u.c)(g.a)(R.a);function z(e){e.history,e.firebase;var a=e.location,t=v.a.parse(a.search),c=Object(s.useState)(null),u=Object(l.a)(c,2),d=u[0],m=u[1],b=Object(s.useState)(!1),p=Object(l.a)(b,2),E=p[0],y=p[1],j=Object(s.useState)(0),k=Object(l.a)(j,2),x=k[0],g=k[1],T=Object(s.useState)(""),I=Object(l.a)(T,2),L=I[0],U=I[1],R=localStorage.getItem("users"),F=JSON.parse(R).token,A=Object(s.useState)(!0),B=Object(l.a)(A,2),D=B[0],z=B[1],V=Object(s.useState)(t.username),Y=Object(l.a)(V,2),X=Y[0],$=(Y[1],Object(s.useState)("modal hide")),q=Object(l.a)($,2),J=q[0],G=q[1],Q=Object(s.useState)([]),W=Object(l.a)(Q,2),Z=W[0],ee=W[1],ae=Object(s.useState)(""),te=Object(l.a)(ae,2),ne=te[0],ce=te[1],re=Object(s.useState)(!1),oe=Object(l.a)(re,2),le=oe[0],se=oe[1];Object(s.useEffect)((function(){ie()}),[]);var ie=function(){var e=Object(o.a)(r.a.mark((function e(){var a,t,n,c,o,s,i,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.c)().URL_USER.ALL,t={limit:100,token:F,status:["Active","Pause"],username:X},e.next=4,Object(h.a)("POST",a,t);case 4:if((n=e.sent).data.data){for(c=[],o=0,s=Object.entries(n.data.data);o<s.length;o++)i=Object(l.a)(s[o],2),i[0],u=i[1],c.push(u);m(c),U(n.data.last_offset)}g(n.data.total),z(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(o.a)(r.a.mark((function e(a){var t,n,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.c)().URL_USER.DELETE,n={user_id:a.id,token:F},e.next=4,Object(h.a)("POST",t,n);case 4:if(c=e.sent,y(!1),200!=c.code){e.next=13;break}o=[],d.map((function(e){a._id!==e._id&&o.push(e)})),m(o),f.a.alert("<code>X\xf3a th\xe0nh c\xf4ng</code>",null,f.a.Icons.Success),e.next=15;break;case 13:return f.a.alert("<code>X\xf3a th\u1ea5t b\u1ea1i</code>",null,f.a.Icons.Failed),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),de=function(){var e=Object(o.a)(r.a.mark((function e(a){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(h.c)().URL_AGENCY.CREATE,n={user_id:a.id,token:F},e.next=4,Object(h.a)("POST",t,n);case 4:if(c=e.sent,y(!1),200!=c.code){e.next=10;break}f.a.alert("<code>K\xedch ho\u1ea1t th\xe0nh c\xf4ng</code>",null,f.a.Icons.Success),e.next=12;break;case 10:return f.a.alert("<code>K\xedch ho\u1ea1t th\u1ea5t b\u1ea1i</code>",null,f.a.Icons.Failed),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),me=function(){var e=Object(o.a)(r.a.mark((function e(a,t,c){var o,l,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(h.c)().URL_USER.UPDATE,l={user_id:t.id,status:a,token:F},1!=a&&2!=a||(a=2==a,l="auto"==c?{user_id:t.id,is_warranty_auto:a,token:F}:{user_id:t.id,is_warranty:a,token:F}),e.next=5,Object(h.a)("POST",o,l);case 5:if(s=e.sent,y(!1),200!=s.code){e.next=14;break}(i=Object(n.a)(d)).map((function(e){t.id===e.id&&("auto"==c?e.is_warranty_auto=s.data.is_warranty_auto:e.is_warranty=s.data.is_warranty)})),m(i),f.a.alert("<code>c\u1eadp nh\u1eadt th\xe0nh c\xf4ng</code>",null,f.a.Icons.Success),e.next=16;break;case 14:return f.a.alert("<code>c\u1eadp nh\u1eadt th\u1ea5t b\u1ea1i</code>",null,f.a.Icons.Failed),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e)})));return function(a,t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(o.a)(r.a.mark((function e(a){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.href="/user/history?token="+a.token;case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),he=function(){var e=Object(o.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G("modal show"),ee(a.is_permissions?null!==(t=null===a||void 0===a?void 0:a.permissions.sort())&&void 0!==t?t:[]:H.a),ce(null!==(n=null===a||void 0===a?void 0:a.id)&&void 0!==n?n:"");case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),pe=function(){G("modal hide")},fe=function(){var e=Object(o.a)(r.a.mark((function e(){var a,t,n,c,o,s,i,u,b,p,f,E;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.c)().URL_USER.ALL,t={limit:100,token:F,status:["Active","Pause"],username:X,offset:L},e.next=4,Object(h.a)("POST",a,t);case 4:for(n=e.sent,c=[],o=0,s=Object.entries(d);o<s.length;o++)i=Object(l.a)(s[o],2),i[0],u=i[1],c.push(u);if(n.data&&n.data.data){for(b=0,p=Object.entries(n.data.data);b<p.length;b++)f=Object(l.a)(p[b],2),f[0],E=f[1],c.push(E);U(n.data.last_offset)}g(n.data.total),m(c),z(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(o.a)(r.a.mark((function e(){var a,t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(h.c)().URL_USER.UPDATE_PERMISSIONS,t={user_id:ne,permission_users:Z,token:F},e.next=4,Object(h.a)("POST",a,t);case 4:if(200!=e.sent.code){e.next=9;break}f.a.alert("<code>K\xedch ho\u1ea1t ph\xe2n quy\u1ec1n th\xe0nh c\xf4ng</code>",null,f.a.Icons.Success),e.next=11;break;case 9:return f.a.alert("<code>K\xedch ho\u1ea1t ph\xe2n quy\u1ec1n th\u1ea5t b\u1ea1i</code>",null,f.a.Icons.Failed),e.abrupt("return",!1);case 11:G("modal hide"),ie();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:J},i.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"dialog"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("div",{className:"modal-header"},i.a.createElement("h5",{className:"modal-title",id:"exampleModalLongTitle"},"X\xe1c nh\u1eadn thanh to\xe1n"),i.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal",onClick:pe,"aria-label":"Close"},i.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),i.a.createElement("div",{className:"modal-body"},i.a.createElement(w.a,null,i.a.createElement(S.a,null,i.a.createElement(N.a,null,i.a.createElement(_.a,null,i.a.createElement(C.a,{checked:le,onChange:function(){ee(le?[]:H.a),se(!le)},inputProps:{"aria-label":"primary checkbox"}})),i.a.createElement(_.a,{className:"text-center"},"STT"),i.a.createElement(_.a,{className:"text-center"},"T\xean d\u1ecbch v\u1ee5"))),i.a.createElement(P.a,null,H.b.map((function(e,a){return i.a.createElement(N.a,{key:a},i.a.createElement(_.a,null,i.a.createElement(C.a,{checked:Z&&Z.includes(e.key),onChange:function(){return function(e){var a=Object(n.a)(Z),t=a.findIndex((function(a){return a===e}));-1===t?a.push(e):a.splice(t,1),ee(a),se(!1)}(e.key)},inputProps:{"aria-label":"primary checkbox"}})),i.a.createElement(_.a,{className:"text-center"},a+1),i.a.createElement(_.a,{className:"text-center"},e.label))}))))),i.a.createElement("div",{className:"modal-footer"},i.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:pe},"Hu\u1ef7"),i.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",onClick:Ee},"Update"))))),i.a.createElement(M,{mb:6},i.a.createElement(K,null,i.a.createElement(w.a,null,i.a.createElement(S.a,null,i.a.createElement(N.a,null,i.a.createElement(_.a,null,"STT"),i.a.createElement(_.a,null,"FullName"),i.a.createElement(_.a,null,"Phone Number"),i.a.createElement(_.a,null,"User b\u1ea3o h\xe0nh service"),i.a.createElement(_.a,null,"User b\u1ea3o h\xe0nh t\u1ef1 \u0111\u1ed9ng"),i.a.createElement(_.a,null,"Balance"),i.a.createElement(_.a,null,"Date Create"),i.a.createElement(_.a,null,"X\u1eed l\xfd"))),i.a.createElement(P.a,null,E?i.a.createElement("div",{className:"waitting"},i.a.createElement(O.a,{type:"Puff",color:"#00BFFF",height:100,width:100})):"",D?i.a.createElement(O.a,{type:"Puff",color:"#00BFFF",height:100,width:100}):d&&d.map((function(e,a){return i.a.createElement(N.a,{key:a},i.a.createElement(_.a,{align:"left"},a+1),i.a.createElement(_.a,{align:"left"},e.fullname),i.a.createElement(_.a,{align:"left"},e.username),i.a.createElement(_.a,{align:"left"},parseInt(e.balance).toLocaleString()),i.a.createElement(_.a,{align:"left"},e.created_date),i.a.createElement(_.a,{align:"left"},e.status&&"Pause"===e.status?i.a.createElement("a",{className:"btn btn-primary",color:"primary",onClick:function(){return me("Active",e,"")},style:{width:"150px"}},"K\xedch ho\u1ea1t"):"",e.status&&"Active"!==e.status?"":i.a.createElement("a",{className:"btn btn-danger",color:"primary",onClick:function(){return me("Pause",e,"")},style:{width:"150px"}},"T\u1ea1m d\u1eebng"),i.a.createElement("a",{className:"btn btn-primary",color:"secondary",onClick:function(){return de(e)},style:{width:"150px"}},"K\xedch ho\u1ea1t \u0111\u1ea1i l\xfd"),1!=e.is_warranty?i.a.createElement("a",{className:"btn btn-primary",color:"secondary",onClick:function(){return me(2,e,"")},style:{width:"150px"}},"K\xedch ho\u1ea1t b\u1ea3o h\xe0nh"):i.a.createElement("a",{className:"btn btn-primary",color:"secondary",onClick:function(){return me(1,e,"")},style:{width:"150px"}},"T\u1ea1m d\u1eebng b\u1ea3o h\xe0nh"),1!=e.is_warranty_auto?i.a.createElement("a",{className:"btn btn-primary",color:"secondary",onClick:function(){return me(2,e,"auto")},style:{width:"150px"}},"K\xedch ho\u1ea1t BH t\u1ef1 \u0111\u1ed9ng"):i.a.createElement("a",{className:"btn btn-primary",color:"secondary",onClick:function(){return me(1,e,"auto")},style:{width:"150px"}},"T\u1ea1m d\u1eebng BH t\u1ef1 \u0111\u1ed9ng"),i.a.createElement("a",{className:"btn btn-primary",color:"secondary",onClick:function(){return be(e)},style:{width:"150px"}},"L\u1ecbch s\u1eed"),i.a.createElement("a",{className:"btn btn-primary",color:"secondary",onClick:function(){return he(e)},style:{width:"150px"}},"Ph\xe2n quy\u1ec1n g\xf3i"),i.a.createElement("a",{className:"btn btn-danger",color:"secondary",onClick:function(){return ue(e)},style:{width:"150px"}},"Delete")))})))),x>=100?i.a.createElement("a",{className:"btn btn-primary LoadMore",color:"secondary",onClick:function(){return fe()}},"Load more"):"")))}var V=Object(m.a)(d.f,b.c)((function(e){var a=e.history,t=e.location,n=e.firebase,c=v.a.parse(t.search),r=Object(s.useState)(c.username),o=Object(l.a)(r,2),u=o[0],d=o[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement(T.a,{variant:"h3",gutterBottom:!0,display:"inline"},"users"),i.a.createElement("div",{style:{float:"right"}},i.a.createElement(D,{mr:2,variant:"contained",color:"primary",onClick:function(){a.push({pathname:"/users/form",search:""})}},i.a.createElement(U,null),"Add User")),i.a.createElement("div",{className:"boxSearch",style:{"margin-top":"20px"}},i.a.createElement("input",{type:"text",className:"form-control",id:"textSeacrh",value:u,onChange:function(e){d(e.target.value)}}),i.a.createElement("a",{onClick:function(){window.location.href="/users/list?username="+u},className:"btn btn-primary"},"Search")),i.a.createElement(B,{my:6}),i.a.createElement(I.a,{container:!0,spacing:6},i.a.createElement(I.a,{item:!0,xs:12},i.a.createElement(z,{history:a,firebase:n,location:t}))))}));a.default=V}}]);
//# sourceMappingURL=16.cd6a128e.chunk.js.map