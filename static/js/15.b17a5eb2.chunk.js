(this["webpackJsonpmaterial-app"]=this["webpackJsonpmaterial-app"]||[]).push([[15],{1112:function(e,t,a){},1142:function(e,t,a){"use strict";a.r(t);var n,r=a(116),o=a(38),i=a(49),s=a(57),l=a(59),u=a(58),c=a(24),d=a(0),p=a.n(d),m=a(16),h=a(103),g=a(124),f=a(75),b=a(188),w=a(1073),v=a(1026),y=a(1084),E=a(1076),C=a(1088),O=(a(1112),Object(m.c)(w.a)(C.a)),F=Object(m.c)(v.a)(n||(n=Object(c.a)(["\n  padding: ","px;\n\n  "," {\n    padding: ","px;\n  }\n"])),(function(e){return e.theme.spacing(6)}),(function(e){return e.theme.breakpoints.up("md")}),(function(e){return e.theme.spacing(10)})),j=Object(m.c)(y.a)({"& label.Mui-focused":{color:"#F3903F"},"& .MuiInput-underline:after":{borderBottomColor:"#F3903F"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#F3903F"},"&:hover fieldset":{borderColor:"#F3903F"},"&.Mui-focused fieldset":{borderColor:"#F3903F"}}}),S={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).storeUserData=function(){fetch("https://ipapi.co/json/").then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong ...")})).then((function(e){var t={uid:a.props.firebase.auth.currentUser.uid,email:a.state.email};a.props.firebase.firestore.collection("users").add({uid:a.props.firebase.auth.currentUser.uid,email:a.state.email,address:{city:e.city,country:e.country_name,region:e.region,uf:""},deleted:!1,createdAt:(new Date).toLocaleString()}).then((function(){console.log("Signup users is saved to logs!")})).catch((function(e){console.log("Signup users Failed.",e)})),console.log("after access the add user",a.props.firebase.auth.currentUser.uid,a.state.email,e),a.props.firebase.firestore.collection("logs").add({source:"Web",action:"signup",dateTime:(new Date).toLocaleString(),browser:a.props.firebase.browser,ip:e.ip,latitude:e.latitude,longitude:e.longitude,country:e.country_name,city:e.city,currency:e.currency,user:t}).then((function(){console.log("Signup logs is saved to logs!")})).catch((function(e){console.log("Signup Failed.",e)}))})).catch((function(e){return console.log("error")}))},a.onSubmit=function(e){var t=a.state,n=t.username,r=t.email,i=t.passwordOne;a.props.firebase.doCreateUserWithEmailAndPassword(r,i).then((function(e){return a.props.firebase.user(e.user.uid).set({username:n,email:r})})).then((function(){a.setState(Object(o.a)({},S)),a.storeUserData(),console.log("success store signup log"),a.props.history.push("/")})).catch((function(e){a.setState({error:e})})),e.preventDefault()},a.onChange=function(e){a.setState(Object(r.a)({},e.target.name,e.target.value))},a.state=Object(o.a)({},S),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.email,r=e.passwordOne,o=e.passwordTwo,i=e.error,s=r!==o||""===r||""===n||""===t;return p.a.createElement(F,null,p.a.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},p.a.createElement("img",{src:a(521),style:{width:"50px"}})),p.a.createElement("p",{style:{textAlign:"center",fontSize:"50px",fontWeight:700,fontFamily:"Inter, Rubik, sans-serif"}},"\u0110\u0103ng k\xfd"),p.a.createElement("form",{onSubmit:this.onSubmit},p.a.createElement(E.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(j,{id:"username",name:"username",label:"H\u1ecd v\xe0 t\xean",variant:"outlined",placeholder:"H\u1ecd v\xe0 t\xean",value:t,onChange:this.onChange,autoComplete:"username",autoFocus:!0})),p.a.createElement(E.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(j,{id:"email",name:"email",label:"Email",variant:"outlined",placeholder:"Email",value:n,onChange:this.onChange,autoComplete:"email",autoFocus:!0})),p.a.createElement(E.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(j,{name:"passwordOne",type:"password",id:"passwordOne",label:"Password",variant:"outlined",placeholder:"Password",value:r,onChange:this.onChange,autoComplete:"password",autoFocus:!0})),p.a.createElement(E.a,{margin:"normal",required:!0,fullWidth:!0},p.a.createElement(j,{name:"passwordTwo",type:"password",id:"passwordTwo",label:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",variant:"outlined",placeholder:"Nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u",value:o,onChange:this.onChange})),p.a.createElement(O,{disabled:s,type:"submit",fullWidth:!0,variant:"contained",color:"primary",mt:2},"\u0110\u1ed3ng \xfd"),p.a.createElement("div",{style:{textAlign:"center",marginTop:"30px"}},p.a.createElement(O,{component:h.b,to:"/sign-in",color:"primary"},"<")),i&&p.a.createElement("p",{style:{color:"red"}},i.message)))}}]),n}(d.Component),x=Object(b.a)(g.f,f.c)(k);t.default=x}}]);
//# sourceMappingURL=15.b17a5eb2.chunk.js.map